git sqash

git rebase -i HEAD~3

replace "pick" on the second and subsequent commits with "squash" or "fixup"

also in new version git

we also can use

git rebase -i @~3

Fix git cannot lock ref
rm .git/refs/remotes/origin/master
git fetch
